var vcCiyaShopCustomIconDependencyCallback,vcCiyaShopInfoBoxDependencyCallback,vcCiyaShopInfoBoxStepDependencyCallback,vcCiyaShopCatItemsCountDependencyCallback;!function(a){a(document).ready(function(){var i;function e(){a("#smart-product-metabox-list li").each(function(t){a(this).find("input:hidden").attr("name","ciyashop_smart_product_id["+t+"]")})}function o(){a("#smart-product-metabox-list").sortable({opacity:.6,stop:function(){e()}})}jQuery(".ciyashop-sguide-table-edit").length&&jQuery(".ciyashop-sguide-table-edit").each(function(){jQuery(this).editTable()}),a(document).on("click","#smart-product-metabox a.smart-product-add",function(t){t.preventDefault(),i&&i.close(),(i=wp.media.frames.smart_product=wp.media({title:a(this).data("uploader-title"),button:{text:a(this).data("uploader-button-text")},multiple:!0})).on("select",function(){var o=a("#smart-product-metabox-list li").index(a("#smart-product-metabox-list li:last"));i.state().get("selection").map(function(t,e){t=t.toJSON(),index=o+(e+1);var i,e=a(t,"img").attr("title");void 0!==t.sizes.thumbnail&&t.sizes.thumbnail?void 0!==t.sizes.thumbnail.url&&(i=t.sizes.thumbnail.url):void 0!==t.url&&(i=t.url),a("#smart-product-metabox-list").append('<li><input type="hidden" name="ciyashop_smart_product_id['+index+']" value="'+t.id+'"><img class="image-preview" src="'+i+'" height="150"><small><a class="remove-image button" href="#"><i title="Remove Image" class="fa fa-times-circle" aria-hidden="true"></i></a></small><div class="product_title">'+e+'</div><a class="change-image button button-small" href="#" data-uploader-title="Change image" data-uploader-button-text="Change image"><i title="Change image" class="fa fa-exchange" aria-hidden="true"></i></a><br></li>')})}),o(),i.open()}),a(document).on("click","#smart-product-metabox a.change-image",function(t){t.preventDefault();var e=a(this);i&&i.close(),(i=wp.media.frames.smart_product=wp.media({title:a(this).data("uploader-title"),button:{text:a(this).data("uploader-button-text")},multiple:!1})).on("select",function(){attachment=i.state().get("selection").first().toJSON();var t=a(attachment,"img").attr("title");e.parent().find("input:hidden").attr("value",attachment.id),e.parent().find("img.image-preview").attr("src",attachment.sizes.thumbnail.url),e.parent().find(".change-image.button.button-small").prev().text(t)}),i.open()}),a(document).on("click","#smart-product-metabox a.remove-image",function(t){t.preventDefault(),a(this).parents("li").animate({opacity:0},200,function(){a(this).remove(),e()})}),o()})}(jQuery),vcCiyaShopCustomIconDependencyCallback=function(){var e=window.jQuery,t=this;e('[data-vc-shortcode-param-name="layout"]',t.$content),t=e("ul.image_picker_selector li"),e(t).each(function(t){e(document).on("click",t,function(){"Style 3"==e(this).find(".thumbnail.selected").find("p").html()?e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").hide():e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").is(":hidden")&&e("ul.vc_ui-tabs-line").find("[data-tab-index=3]").show()})})},vcCiyaShopInfoBoxDependencyCallback=function(){var e,t;e=window.jQuery,t=e("ul.image_picker_selector li"),e(t).each(function(t){e(document).on("click",t,function(){"Style 1"==e(this).find(".thumbnail.selected").find("p").html()?e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").hide():e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").is(":hidden")&&e("ul.vc_ui-tabs-line").find("[data-tab-index=2]").show()})})},vcCiyaShopInfoBoxStepDependencyCallback=function(){var t=window.jQuery,e=this;e=t('[data-vc-shortcode-param-name="enable_step"]',e.$content).find("#enable_step-true"),t(e).on("change",function(){t(this).is(":checked")?t('[data-vc-shortcode-param-name="style_2_step_position"]').show():t('[data-vc-shortcode-param-name="style_2_step_position"]').hide()})},vcCiyaShopCatItemsCountDependencyCallback=function(){var t=window.jQuery,e=this;e=t('[data-vc-shortcode-param-name="hide_categories_count"]',e.$content).find("#hide_categories_count-true"),t(e).on("change",function(){t(this).is(":checked")?t('[data-vc-shortcode-param-name="product_title_color"]').hide():t('[data-vc-shortcode-param-name="product_title_color"]').show()})},function(i){jQuery(document).on("click",".set-position-button",function(t){var e,o;t.preventDefault(),jQuery(this).hasClass("already-set")||(t="Image"==i(".image_source").find(":selected").text()?i(".pgscore-hotspot-img .gallery_widget_attached_images img").attr("src"):i(".hotspot_box_img_link").val(),e=i(this).parents(".pgscore-position").find(".list_items_position").val(),t=t.replace("-150x150","",t),i(this).parents(".pgscore-position").append('<div class="hotspot-image-wrapper"><div class="pgscore-hotspot-cover"><img src="'+t+'" /><div class="pgscore-hotspot-overlay"></div><div class="pgscore-hotspot-pointer"></div></div></div>'),e=e.split("||"),i(this).parents(".pgscore-position").find(".pgscore-hotspot-pointer").css({top:e[1]+"%",left:e[0]+"%"}),i(this).addClass("already-set"),o=i(this).parents(".pgscore-position"),jQuery(".pgscore-hotspot-pointer").draggable({containment:o.find(".pgscore-hotspot-cover"),scroll:!1,drag:function(t,e){var i=(e.position.left+3)/o.find(".pgscore-hotspot-cover").width()*100,e=(e.position.top+3)/o.find(".pgscore-hotspot-cover").height()*100,i=i.toFixed(2),e=e.toFixed(2);o.find(".list_items_position").val(i+"||"+e),o.find(".pgscore-hotspot-pointer").css({top:e+"%",left:i+"%"})}}))})}(jQuery),jQuery(document).on("click",".pgscore-position .pgscore-hotspot-cover .pgscore-hotspot-overlay",function(t){var e=jQuery(this).offset(),i=(t.pageX-e.left)/jQuery(this).width()*100,t=(t.pageY-e.top)/jQuery(this).height()*100,i=i.toFixed(2),t=t.toFixed(2);jQuery(this).parents(".pgscore-position").find(".list_items_position").val(i+"||"+t),jQuery(this).parents(".pgscore-position").find(".pgscore-hotspot-pointer").css({top:t+"%",left:i+"%"})}),jQuery(document).on("click",".vc_param_group-add_content, .column_toggle",function(){jQuery(".pgscore-position").each(function(){jQuery(this).find(".set-position-button").length||jQuery(this).find(".edit_form_line").append('<button class="vc_ui-button vc_ui-button-action button set-position-button">'+object.set_possition+"</button>")})});